<app-nav-bar />

@if(eventoDetalle) {
<div class="participacion-container">
  <div class="card-content">
    <div class="card-title">
      <h3>{{ eventoDetalle.nombre }}</h3>
    </div>

    <div class="card-info">
      <p>
        <strong>Fecha:</strong>
        {{ eventoDetalle.fecha | date : "dd/MM/yyyy HH:mm:ss" : "GMT-3" }}
      </p>
      <p><strong>Descripción:</strong> {{ eventoDetalle.descripcion }}</p>
      <p><strong>Ubicación:</strong> {{ eventoDetalle.ubicacion }}</p>

      <div class="switch">
        <label for="eventoRealizadoSwitch">
          <strong>Realizado:</strong>
        </label>
        <input
          id="eventoRealizadoSwitch"
          type="checkbox"
          disabled
          [checked]="eventoDetalle.realizado"
        />
      </div>

      <h4>Asistentes</h4>
      <div class="asistentes-list">
        @for(asistente of eventoDetalle.asistentes; track asistente.id) {
        <div class="asistente-item">
          <p>
            <strong>Asistente:</strong> {{ asistente.nombre }}
            {{ asistente.apellido }}
          </p>
          <p><strong>Email:</strong> {{ asistente.email }}</p>
          <p><strong>Teléfono:</strong> {{ asistente.telefono }}</p>
          <p><strong>DNI:</strong> {{ asistente.dni }}</p>

          <div class="switch">
            <label for="confirmacionSwitch{{ asistente.id }}">
              <strong>Confirmación:</strong>
            </label>
            <input
              id="confirmacionSwitch{{ asistente.id }}"
              type="checkbox"
              disabled
              [checked]="asistente.confirmacion"
            />
          </div>

          <div class="switch">
            <label for="asistenciaRealSwitch{{ asistente.id }}">
              <strong>Asistencia Real:</strong>
            </label>
            <input
              id="asistenciaRealSwitch{{ asistente.id }}"
              type="checkbox"
              [checked]="asistente.asistencia_real"
              (change)="toggleAsistenciaReal(eventoDetalle.id, asistente)"
            />
          </div>
        </div>
        }
      </div>
    </div>
  </div>
</div>
}
<app-footer />
